<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practica - Plataformas - Proyecto video</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
            background-color: #f4f4f4;
            color: #333;
        }
        h1, h2, h3, h4 {
            color: #333;
        }
        video {
            display: block;
            margin: 20px 0;
            max-width: 100%;
            height: auto;
        }
        section {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        p {
            margin: 10px 0;
        }
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>Proyecto de Vídeo</h1>

    <section>
        <h2>Tarea 1.1</h2>
        <p>
            Elige un clip de vídeo de máximo 20 segundos (puedes crearlo con tu dispositivo móvil, que tenga objetos en detalle y en movimiento) y codifícalo con Avidemux eligiendo el formato 
            y resolución que creas adecuadas para su publicación en web. Teniendo en cuenta que no todos los navegadores aceptan todos los códecs, codifica el vídeo en los formatos necesarios 
            para que sea compatible con el máximo de navegadores posible. Explica las decisiones tomadas en la codificación y el porqué de cada una. 
            Confirma con la herramienta MediaInfo que lo ha codificado a la velocidad que querías.
        </p>
        <video controls autoplay>
            <source src="plataforma_20240529_012_firefox.mp4" type="video/mp4">
            <source src="plataforma_20240529_012_firefox.webm" type="video/webm">
         </video>
        <p><b>Decisiones de codificación:</b></p>
        <p>Información del video generado en Avidemux</p>
        <img src="tarea1.png" alt="Información de avidemux del video">
        <p>Información del video generado en MediaInfo</p>
        <img src="mediainfo_firefox.png" alt="Información de MediaInfo">        
        <ul>
            <li><b>Formato MP4 (Contenedor):</b> El formato MP4 es ampliamente utilizado en la web debido a su capacidad para combinar video y audio en un solo archivo.</li>
            <li><b>Códec de Video H.264:</b> H.264 es un códec de compresión eficiente y ampliamente compatible que ofrece buena calidad de video con tamaños de archivo reducidos. La mayoría de los navegadores modernos pueden reproducir video codificado con H.264 sin problemas.</li>
            <li><b>Códec de Audio AAC (fdk):</b> AAC es un códec de alta calidad que proporciona buen sonido en archivos comprimidos. La variante fdk de AAC es preferida por su mejor rendimiento y compatibilidad con diversos dispositivos y navegadores.</li>
            <li><b>Formato de Salida MP4 Muxer:</b> El muxer MP4 combina el video H.264 y el audio AAC (fdk) en un archivo MP4, asegurando una reproducción correcta en navegadores y dispositivos compatibles.</li>
        </ul>
    </section>

    <section>
        <h2>Tarea 1.2</h2>
        <p>Crea la web. Genera un fichero .html mediante un editor de texto, incrústale el clip de vídeo codificado utilizando el tag &lt;video&gt; de HTML5 y prepara la web para que pueda ser visualizada desde la mayor parte de los navegadores.</p>
        <ul>
            <li>En la tarea 1, se responde a esta pregunta.</li>
       </ul>
        <p><b>¿Qué caracteriza el formato HTML5 en publicación y visualización de un vídeo respecto de otros métodos de publicación?</b></p>
        <ul>
            <li><b>Compatibilidad Universal:</b> HTML5 es ampliamente compatible con la mayoría de los navegadores modernos, lo que garantiza que el video incrustado sea visible en una amplia gama de dispositivos y navegadores sin necesidad de complementos o reproductores de terceros.</li>
            <li><b>Reproducción sin Problemas:</b> La etiqueta &lt;video&gt; de HTML5 permite una reproducción fluida y controlable del video directamente en el navegador, con opciones como reproducción, pausa, volumen, pantalla completa, entre otras, proporcionando una experiencia de visualización más interactiva para los usuarios.</li>
            <li><b>Soporte para Múltiples Formatos:</b> HTML5 admite una variedad de formatos de video como MP4, WebM, y Ogg, lo que brinda flexibilidad al publicar videos en la web y permite que los usuarios vean el contenido en función de la compatibilidad de sus navegadores.</li>
            <li><b>Etiquetas y Atributos Semánticos:</b> HTML5 incluye etiquetas y atributos semánticos que mejoran la estructura y accesibilidad del contenido multimedia. Esto facilita la comprensión del contenido para los motores de búsqueda y usuarios con discapacidades visuales.</li>
            <li><b>Optimización para Dispositivos Móviles:</b> HTML5 está diseñado para ser compatible con dispositivos móviles, permitiendo la visualización de contenido en diferentes tamaños de pantalla y dispositivos sin problemas de rendimiento o compatibilidad.</li>
            <li><b>Mejor Manejo de Formularios:</b> HTML5 mejora el manejo de formularios y permite una mayor flexibilidad y personalización en la creación de formularios interactivos, lo que es útil para aplicaciones web avanzadas que incluyen contenido multimedia.</li>
            <li><b>Accesibilidad Mejorada:</b> HTML5 incluye características como subtítulos automáticos y atributos semánticos que mejoran la accesibilidad del contenido, permitiendo una mejor experiencia para usuarios con discapacidades auditivas o visuales.</li>
            <li><b>Seguridad y Rendimiento:</b> Al eliminar la necesidad de plugins externos como Flash, HTML5 reduce los riesgos de seguridad y mejora el rendimiento general de la página web.</li>
            <li><b>SEO Amigable:</b> Los videos HTML5 pueden ser indexados mejor por los motores de búsqueda gracias a su estructura semántica y la inclusión de metadatos, lo que mejora la visibilidad en los resultados de búsqueda.</li>
        </ul>
    </section>

    <section>
        <h2>Tarea 1.3 </h2>
        <p>Publica el fichero .html y el vídeo en un servidor web gratuito o al CDN visto en la PEC1 (web estática) para verlo con una dirección http pública y valora la experiencia a nivel de usuario/a (retraso de visualización, calidad, etc.).</p>
        <ul>
            <li><p>Publicado en <a href="https://mlmahiques.github.io/Plataforma/" target="_blank">https://mlmahiques.github.io/Plataforma/</a></p></li>
       </ul>
        
        <h3>Valorar la experiencia a nivel de usuario</h3>
        <ul>
            <li><b>Retrasos de visualización:</b> El retraso en la visualización de los vídeos puede variar según la ubicación geográfica del usuario y la capacidad del servidor gratuito.
            <ul>
                <li><b>Optimiza los archivos de vídeo:</b> Hay que asegurarse de que los archivos de vídeo estén comprimidos y no sean demasiado pesados. Esto ayudará a acelerar la carga y reproducción.</li>
                <li><b>Velocidad de carga:</b> La velocidad de carga también depende de tu conexión a Internet y la del servidor. Si ambos son rápidos, el retraso debería ser mínimo.</li>
            </ul>
            </li>
            <li><b>Calidad del video:</b> es crucial para ofrecer una buena experiencia.
            <ul>
                <li><b>Codificación adecuada:</b> Hay que asegurarse que los vídeos estén codificados correctamente. Se recomienda formatos como MP4 o WebM para mantener una alta calidad. En este proyecto se ha usado MP4</li>
                <li><b>Problemas de buffering o baja resolución:</b> Observa si hay problemas de buffering o si la resolución del vídeo es baja, puede afectar negativamente.</li>
            </ul>
            </li>
            <li><b>Compatibilidad:</b>para conseguir que sea compatible con todos los navegadores.
            <ul>
                <li>Utilizando el tag &lt;video&gt; de HTML5 para insertar el vídeo en tu página web. Proporciona múltiples fuentes de vídeo (por ejemplo, MP4 y WebM) dentro de la etiqueta para asegurar la compatibilidad.</li>
                <li>Utilizando el tag &lt;source&gt; el navegador elegira automaticamente la fuente mas adeucada segun su compatibildiad </li>
            </ul>
            </li>
        </ul>
    </section>
    <section>
        <h2>Tarea 1.4 </h2>
        <p>Añade funcionalidad al vídeo mediante los diferentes atributos que el tag &lt;video&gt; ofrece. ¡Experimenta! Dame la dirección web del vídeo para poderlo visualizar.</p>   
         <h3>Utilizando  controls autoplay loop</h3>
               <video controls autoplay loop>
                    <source src="plataforma_20240529_012_firefox.mp4" type="video/mp4">
                    <source src="plataforma_20240529_012_firefox.webm" type="video/webm">
               </video>
           <h3>Utilizando controls autoplay muted</h3>
               <video controls autoplay muted>
                    <source src="plataforma_20240529_012_firefox.mp4" type="video/mp4">
                    <source src="plataforma_20240529_012_firefox.webm" type="video/webm">
                </video>
         <h3>Utilizando controls autoplay poster</h3>
               <video controls poster="PORTADA.jpg">
                    <source src="plataforma_20240529_012_firefox.mp4" type="video/mp4">
                    <source src="plataforma_20240529_012_firefox.webm" type="video/webm">
                </video>
          <h3>Utilizando una combinación, AUTOPLAY + LOOP + MUTED + PRELOAD + POSTER </h3>
            <video controls autoplay loop muted preload="auto" poster="PORTADA.jpg">
              <source src="plataforma_20240529_012_firefox.mp4" type="video/mp4">
              <source src="plataforma_20240529_012_firefox.webm" type="video/webm">
            </video>
    </section>
     <section>
        <h2>Tarea 1.5</h2>
        <p>Indaga qué servicios adicionales ofrecen los CDN en estos aspectos, te doy algunos ejemplos: subtitulado automático, identificación de cambios de plan, detección de caras, etc.</p>
        <ul>
            <p>Como servicios adiciones ofrecidos por los CDN, serian princilpalmente: </p>
            <li><b>Subtitulación Automática:</b> Generación automática de subtítulos para videos utilizando algoritmos de reconocimiento de voz, con esto se mejora la accesibilidad y permite a los usuarios finales comprender el contenido sin necesidad de sonido, ayudando asi a los usuarios con discapacidad auditiva.</li>
            <li><b>Detección de Caras:</b> Algoritmos que detectan y reconocen caras en los videos, siendo util para aplicaciones de seguridad, marketing dirigido y análisis de contenido.</li>
            <li><b>Transcodificación Adaptativa: </b> Proceso de convertir un archivo de video a varios formatos y resoluciones diferentes para optimizar la reproducción en dispositivos con diferentes capacidades de red y pantalla.</li>
            <li><b>Optimización de Imágenes y Videos:</b> Compresión y ajuste de imágenes y videos en tiempo real para reducir el tiempo de carga sin comprometer la calidad visual.</li>
            <li><b>Seguridad y Protección de Contenido:</b> Implementación de medidas de seguridad como la protección contra piratería, control de acceso y cifrado de datos para asegurar la integridad del contenido distribuido.</li>
            
        </ul>
    </section>
     <section>
        <h2>Tarea 2.1</h2>
        <p>
           Genera un clip de vídeo de calidad HD de unos 20 segundos de duración (o descárgalo de la web) que posea movimiento (algo equivalente al clip de fútbol que he usado de ejemplo).
           Sea cual sea su formato, conviértelo a MP4 con Avidemux con los siguientes valores y lo denominaremos clip01. La codificación de salida será MPEG4 AVC y a VIDEO OUTPUT-CONFIGURACIÓN 
            selecciona como modo de codificación TASA DE BITS MEDIA-DOS PASADAS (para mantener la calidad) y 5000 Kbps. Como formato de audio, MP3 (lame) y como contenedor, MKV. 
            Incluye estos clips en la entrega de la práctica. Confirma con MediaInfo que Avidemux ha realizado el trabajo correctamente.
        </p>
         <p> Se ha realizado la conversión a MKV, pero html5 no reproduce este formato, por lo que para publicarlo y reproducirlo lo he tenido que convertir a formato MP4.</p>
         <video controls autoplay>
            <source src="clip01.mp4" type="video/mp4">
         </video>
          <p> Información del Media Info del video </p>
         <img src="mediainfo_clip01.png" alt="Información de MediaInfo">  
    </section>
    <section>
        <h2>Tarea 2.2 y Tarea 2.3</h2>
        <p>
         Indica los códecs con los cuales dice que se generó el fichero almacenado. En ESTADÍSTICAS indica la TASA DE BITS DE CONTENIDO que está leyendo de disco, 
        es la necesaria para una reproducción correcta del contenido (es un valor cambiante, de forma que toma un valor mediano aproximado)
        </p>
       <img src="estadisticas_emisor_receptor.png" alt="Información de los codecs de emisor y recpetor">
     </section>
    <section>
        <h2>Tarea 2.4</h2>
        <p> Si realizas una pausa en el VLC emisor, ¿cuántos según tarda en pausarse el vídeo al receptor?</p>
             
        <ul>
            <li><p> He hecho varias pruebas y tarda unos segundos en volver a empezar.</p></li>
       </ul>
        <p>
        ¿Por qué? Vuélvelo a poner en reproducción.
        </p>
         <ul>
            <li><p> <b> Latencia de la red: </b>  Yo entiendo que es por la latencia de la red entre el emisor y el receptor. En una red local (LAN), este retraso suele ser muy bajo (milisegundos), 
                pero en una red más amplia (WAN) o con conexiones a Internet, puede aumentar considerablemente (segundos).</p></li>
       </ul>
     </section>
    <section>
        <h2>Tarea 2.5</h2>
        <p> Calcula aproximadamente la compresión que el VLC de emisión está realizando al transcodificar el fichero almacenado a stream. 
            Realiza una captura de pantalla del escritorio con los dos VLC en marcha y sus ventanas con las estadísticas de cada uno abiertas, e inserta la captura en el documento en el cual escribes las respuestas de esta práctica.</p>
             
        <ul>
            <p>Basandonos en los codecs de la pregunta 2.2 y 2.3, he remarcado los datos para el calculo</p>
             <img src="estadisticas_emisor_receptor_2.png" alt="Información de los codecs de emisor y recpetor">
       </ul>
        <p>
       <b> El calculo aproximado de la compresión seria </b>: (5109-2073)/5109=59%
        </p>
   </section>
    <section>
        <h2>Tarea 2.6</h2>
        <p> Enfocando-nos en la transmisión en vivo de un stream de vídeo mediante un servicio de cloud CDN, éstos ofrecen múltiples modos de distribución, como por ejemplo streaming de baja latencia por entornos de mínimo retraso, streaming por OTT, etc... ¡incluso interactivo!</p>
        <p><b>Transmisión en Vivo de un Stream de Video Mediante Cloud CDN: Enfoque en Streaming por OTT (Over-the-Top)</b></p>
        <h2>Introducción</h2>
         <p>
           La transmisión de video en vivo a través de servicios de Cloud CDN ha revolucionado la manera en que el contenido multimedia llega a audiencias globales. 
           El streaming por OTT, que se basa en la entrega directa de contenido a través de internet, ha sido adoptado por plataformas como Netflix, Hulu, y Amazon Prime Video. 
           La idea es resumir el proceso detallado para implementar un streaming por OTT, incluyendo las políticas de usuarios, roles de gestión, 
           y un cálculo estimativo de costos para una transmisión HD en directo para 10,000 usuarios simultáneos.
        </p>
        <h2>Proceso de Streaming por OTT</h2>
            <h3>1. Preparación y Configuración Inicial</h3>
                <h4>a. Selección del Proveedor de Cloud CDN:</h4>
                    <ul>
                        <li>Elegir un proveedor de Cloud CDN que ofrezca servicios robustos para streaming por OTT, como AWS CloudFront, Akamai, o Google Cloud CDN.</li>
                        <li>Configurar una cuenta y obtenga las credenciales necesarias para acceder a los servicios del CDN.</li>
                    </ul>
                <h4>b. Preparación del Contenido:</h4>
                <ul>
                    <li>Asegurarse de que el contenido de video esté en un formato adecuado para la transmisión en línea, como H.264 para video y AAC para audio.</li>
                    <li>Utilizar herramientas de codificación en vivo como AWS Elemental MediaLive, OBS Studio, o servicios similares ofrecidos por el proveedor de CDN.</li>
                </ul>
            <h3>2. Codificación y Emisión del Video</h3>
                <h4>a. Configuración de la Codificación:</h4>
                <ul>
                    <li>Configurar el codificador para convertir la señal de video en un formato digital óptimo para la transmisión. Ajuste la tasa de bits y resolución para garantizar calidad HD (720p o 1080p).</li>
                    <li>Configurar la codificación adaptativa (ABR - Adaptive Bitrate Streaming) para optimizar la entrega de contenido según las condiciones de red de los usuarios finales.</li>
                </ul>
            <h4>b. Emisión del Stream:</h4>
            <ul>
                <li>Establecer el punto de origen del stream utilizando la URL de emisión proporcionada por el CDN.</li>
                <li>Iniciar la emisión del video en vivo hacia el servidor de origen del CDN.</li>
            </ul>
    <h3>3. Configuración del CDN para Streaming por OTT</h3>
            <h4>a. Servidor de Origen:</h4>
            <ul>
                <li>El servidor de origen del CDN recibe y procesa el stream de video en vivo.</li>
                <li>Configurar políticas de almacenamiento en caché para optimizar la entrega de segmentos de video.</li>
            </ul>
            <h4>b. Distribución del Contenido:</h4>
            <ul>
                <li>Configurar la red de entrega de contenido (CDN) para distribuir el video desde nodos de borde cercanos a los usuarios finales.</li>
                <li>Implementar protocolos de transmisión eficientes como HLS (HTTP Live Streaming) o DASH (Dynamic Adaptive Streaming over HTTP).</li>
            </ul>
            <h4>c. Políticas y Roles de Gestión:</h4>
            <ul>
                <li>Definir roles de gestión como administradores de red, ingenieros de transmisión y operadores de contenido.</li>
                <li>Aplicar políticas de acceso y control para asegurar que solo personal autorizado pueda gestionar el flujo de trabajo de transmisión.</li>
            </ul>
    <h3>4. Monitoreo y Optimización</h3>
            <h4>a. Monitoreo en Tiempo Real:</h4>
            <ul>
                <li>Utilizar herramientas de monitoreo para rastrear el rendimiento del stream, observando métricas como latencia, tasa de bits y calidad de experiencia del usuario.</li>
                <li>Configurar alertas para notificar a los operadores de cualquier problema en la transmisión.</li>
            </ul>
            <h4>b. Optimización Continua:</h4>
            <ul>
                <li>Ajustar la configuración de la codificación y las políticas de caché para mejorar la entrega del video.</li>
                <li>Implementar técnicas de escalado automático para manejar picos de tráfico y asegurar una entrega continua y sin interrupciones.</li>
            </ul>
    <h2>Políticas Específicas y Roles</h2>
            <h3>Políticas de Usuarios:</h3>
            <ul>
                <li>Implementar el control de acceso basado en roles (RBAC) para asegurar que solo usuarios autorizados puedan acceder a configuraciones críticas.</li>
                <li>Aplicar políticas de seguridad para proteger el contenido contra piratería y acceso no autorizado.</li>
            </ul>
            <h3>Gestión de Recursos:</h3>
            <ul>
                <li>Asignar ancho de banda y recursos de red en función de la demanda de los usuarios finales.</li>
                <li>Utilizar balanceo de carga para distribuir el tráfico equitativamente entre los nodos de borde.</li>
            </ul>
            <h3>Roles de Administración:</h3>
            <ul>
                <li><strong>Administrador de Red:</strong> Responsable de la configuración de la red de entrega y la optimización del rendimiento.</li>
                <li><strong>Ingeniero de Transmisión:</strong> Encargado de la configuración del codificador y la supervisión de la calidad del stream.</li>
                <li><strong>Operador de Contenido:</strong> Responsable de la gestión del contenido y la configuración del servidor de origen.</li>
            </ul>
    <h2>Cálculo Estimativo de Coste</h2>
    <p>
        Para calcular el coste estimativo de una transmisión en vivo de un stream HD para 10,000 usuarios simultáneos dentro de una misma región, he considerado los siguientes factores:
    </p>
    <h3>Suposiciones:</h3>
    <ul>
        <li>Resolución HD (720p) con una tasa de bits promedio de 3 Mbps.</li>
        <li>Duración de la transmisión: 1 minuto.</li>
    </ul>
    <h3>Cálculo de Uso de Datos:</h3>
    <ul>
        <li>3 Mbps * 60 segundos = 180 Mbps por usuario.</li>
        <li>180 Mbps / 8 = 22.5 MB por usuario por minuto.</li>
        <li>22.5 MB * 10,000 usuarios = 225,000 MB o 225 GB por minuto.</li>
    </ul>
    <h3>Coste Estimado:</h3>
    <ul>
        <li>Suponemos que el coste de transferencia de datos en el CDN es $0.08 por GB.</li>
        <li>225 GB * $0.08 = $18 por minuto.</li>
    </ul>
    <p>Como conclusión, el streaming por OTT es una solución efectiva para la distribución de contenido de video en vivo a una audiencia masiva a través de internet. 
        El proceso implica la preparación y codificación del contenido, configuración del CDN para una entrega eficiente, y monitoreo constante para optimizar el rendimiento. 
        Las políticas de usuarios y roles de administración aseguran la seguridad y eficiencia del servicio. El coste estimado para una transmisión en vivo de un stream HD
        para 10,000 usuarios simultáneos es aproximadamente $18 por minuto, dependiendo del proveedor y las tarifas específicas</p>
    <h2>Referencias</h2>
    <ol>
        <li><a href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Introduction.html">AWS CloudFront Documentation</a></li>
        <li><a href="https://www.akamai.com/us/en/products/media-delivery/media-services-on-demand.jsp">Akamai OTT Solutions</a></li>
        <li><a href="https://cloud.google.com/cdn/docs/overview">Google Cloud CDN Overview</a></li>
        <li><a href="https://obsproject.com/wiki/">OBS Studio Documentation</a></li>
        <li><a href="https://developer.apple.com/streaming/">HTTP Live Streaming (HLS) - Apple Developer</a></li>
        <li><a href="https://mpeg.chiariglione.org/standards/mpeg-dash">Dynamic Adaptive Streaming over HTTP (DASH) - MPEG</a></li>
    </ol>
      
</section>
</body>
</html>
